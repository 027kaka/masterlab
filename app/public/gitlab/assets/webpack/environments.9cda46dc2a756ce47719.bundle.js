webpackJsonp([8],{"3qMg":function(n,e,t){"use strict";var o=t("j4Jp"),i=t.n(o),a=t("A+3H"),s=(t.n(a),t("R8Dz")),l=t("AhTQ"),r=t("kXVd"),d=t("FaWK"),m=t("Q/iC"),c=t("PPOU"),p=t("zp3R"),u=t("SdTk"),h=new i.a;e.a={components:{"commit-component":p.a,"actions-component":s.a,"external-url-component":l.a,"stop-component":r.a,"rollback-component":d.a,"terminal-button-component":m.a,"monitoring-button-component":c.a},props:{model:{type:Object,required:!0,default:function(){return{}}},canCreateDeployment:{type:Boolean,required:!1,default:!1},canReadEnvironment:{type:Boolean,required:!1,default:!1},service:{type:Object,required:!0}},computed:{hasLastDeploymentKey:function(){return!(!this.model||!this.model.last_deployment||this.$options.isObjectEmpty(this.model.last_deployment))},hasManualActions:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.manual_actions&&this.model.last_deployment.manual_actions.length>0},hasStopAction:function(){return this.model&&this.model["stop_action?"]},canRetry:function(){return this.model&&this.hasLastDeploymentKey&&this.model.last_deployment&&this.model.last_deployment.deployable},canShowDate:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&void 0!==this.model.last_deployment.deployable},createdDate:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.created_at?h.format(this.model.last_deployment.deployable.created_at):""},manualActions:function(){return this.hasManualActions?this.model.last_deployment.manual_actions.map(function(n){return{name:gl.text.humanize(n.name),play_path:n.play_path,playable:n.playable}}):[]},userImageAltDescription:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.user&&this.model.last_deployment.user.username?this.model.last_deployment.user.username+"'s avatar'":""},commitTag:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.tag)return this.model.last_deployment.tag},commitRef:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.ref)return this.model.last_deployment.ref},commitUrl:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.commit_path)return this.model.last_deployment.commit.commit_path},commitShortSha:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.short_id)return this.model.last_deployment.commit.short_id},commitTitle:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.title)return this.model.last_deployment.commit.title},commitAuthor:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.author)return this.model.last_deployment.commit.author},retryUrl:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.retry_path)return this.model.last_deployment.deployable.retry_path},isLastDeployment:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment["last?"]},buildName:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable?this.model.last_deployment.deployable.name+" #"+this.model.last_deployment.deployable.id:""},deploymentInternalId:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.iid?"#"+this.model.last_deployment.iid:""},deploymentHasUser:function(){return this.model&&!this.$options.isObjectEmpty(this.model.last_deployment)&&!this.$options.isObjectEmpty(this.model.last_deployment.user)},deploymentUser:function(){return!this.model||this.$options.isObjectEmpty(this.model.last_deployment)||this.$options.isObjectEmpty(this.model.last_deployment.user)?{}:this.model.last_deployment.user},shouldRenderBuildName:function(){return!this.model.isFolder&&!this.$options.isObjectEmpty(this.model.last_deployment)&&!this.$options.isObjectEmpty(this.model.last_deployment.deployable)},buildPath:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.build_path?this.model.last_deployment.deployable.build_path:""},externalURL:function(){return this.model&&this.model.external_url?this.model.external_url:""},shouldRenderDeploymentID:function(){return!this.model.isFolder&&!this.$options.isObjectEmpty(this.model.last_deployment)&&void 0!==this.model.last_deployment.iid},environmentPath:function(){return this.model&&this.model.environment_path?this.model.environment_path:""},monitoringUrl:function(){return this.model&&this.model.metrics_path?this.model.metrics_path:""},folderUrl:function(){return window.location.pathname+"/folders/"+this.model.folderName}},isObjectEmpty:function(n){for(var e in n)if(hasOwnProperty.call(n,e))return!1;return!0},methods:{onClickFolder:function(){u.a.$emit("toggleFolder",this.model,this.folderUrl)}},template:'\n    <tr :class="{ \'js-child-row\': model.isChildren }">\n      <td>\n        <a v-if="!model.isFolder"\n          class="environment-name"\n          :class="{ \'prepend-left-default\': model.isChildren }"\n          :href="environmentPath">\n          {{model.name}}\n        </a>\n        <span v-else\n          class="folder-name"\n          @click="onClickFolder"\n          role="button">\n\n          <span class="folder-icon">\n            <i\n              v-show="model.isOpen"\n              class="fa fa-caret-down"\n              aria-hidden="true" />\n            <i\n              v-show="!model.isOpen"\n              class="fa fa-caret-right"\n              aria-hidden="true"/>\n          </span>\n\n          <span class="folder-icon">\n            <i class="fa fa-folder" aria-hidden="true"></i>\n          </span>\n\n          <span>\n            {{model.folderName}}\n          </span>\n\n          <span class="badge">\n            {{model.size}}\n          </span>\n        </span>\n      </td>\n\n      <td class="deployment-column">\n        <span v-if="shouldRenderDeploymentID">\n          {{deploymentInternalId}}\n        </span>\n\n        <span v-if="!model.isFolder && deploymentHasUser">\n          by\n          <a :href="deploymentUser.web_url" class="js-deploy-user-container">\n            <img class="avatar has-tooltip s20"\n              :src="deploymentUser.avatar_url"\n              :alt="userImageAltDescription"\n              :title="deploymentUser.username" />\n          </a>\n        </span>\n      </td>\n\n      <td class="environments-build-cell">\n        <a v-if="shouldRenderBuildName"\n          class="build-link"\n          :href="buildPath">\n          {{buildName}}\n        </a>\n      </td>\n\n      <td>\n        <div v-if="!model.isFolder && hasLastDeploymentKey" class="js-commit-component">\n          <commit-component\n            :tag="commitTag"\n            :commit-ref="commitRef"\n            :commit-url="commitUrl"\n            :short-sha="commitShortSha"\n            :title="commitTitle"\n            :author="commitAuthor"/>\n        </div>\n        <p v-if="!model.isFolder && !hasLastDeploymentKey" class="commit-title">\n          No deployments yet\n        </p>\n      </td>\n\n      <td>\n        <span v-if="!model.isFolder && canShowDate"\n          class="environment-created-date-timeago">\n          {{createdDate}}\n        </span>\n      </td>\n\n      <td class="environments-actions">\n        <div v-if="!model.isFolder" class="btn-group pull-right" role="group">\n          <actions-component v-if="hasManualActions && canCreateDeployment"\n            :service="service"\n            :actions="manualActions"/>\n\n          <external-url-component v-if="externalURL && canReadEnvironment"\n            :external-url="externalURL"/>\n\n          <monitoring-button-component v-if="monitoringUrl && canReadEnvironment"\n            :monitoring-url="monitoringUrl"/>\n\n          <terminal-button-component v-if="model && model.terminal_path"\n            :terminal-path="model.terminal_path"/>\n\n          <stop-component v-if="hasStopAction && canCreateDeployment"\n            :stop-url="model.stop_path"\n            :service="service"/>\n\n          <rollback-component v-if="canRetry && canCreateDeployment"\n            :is-last-deployment="isLastDeployment"\n            :retry-url="retryUrl"\n            :service="service"/>\n        </div>\n      </td>\n    </tr>\n  '}},AhTQ:function(n,e,t){"use strict";e.a={props:{externalUrl:{type:String,default:""}},computed:{title:function(){return"Open"}},template:'\n    <a\n      class="btn external-url has-tooltip"\n      data-container="body"\n      :href="externalUrl"\n      target="_blank"\n      rel="noopener noreferrer nofollow"\n      :title="title"\n      :aria-label="title">\n      <i class="fa fa-external-link" aria-hidden="true"></i>\n    </a>\n  '}},FaWK:function(n,e,t){"use strict";(function(n){var o=t("SdTk");e.a={props:{retryUrl:{type:String,default:""},isLastDeployment:{type:Boolean,default:!0},service:{type:Object,required:!0}},data:function(){return{isLoading:!1}},methods:{onClick:function(){var e=this;this.isLoading=!0,n(this.$el).tooltip("destroy"),this.service.postAction(this.retryUrl).then(function(){e.isLoading=!1,o.a.$emit("refreshEnvironments")}).catch(function(){e.isLoading=!1,new Flash("An error occured while making the request.")})}},template:'\n    <button type="button"\n      class="btn"\n      @click="onClick"\n      :disabled="isLoading">\n\n      <span v-if="isLastDeployment">\n        Re-deploy\n      </span>\n      <span v-else>\n        Rollback\n      </span>\n\n      <i v-if="isLoading" class="fa fa-spinner fa-spin" aria-hidden="true"></i>\n    </button>\n  '}}).call(e,t("lwLq"))},LIwm:function(n,e){n.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" class="icon-play"><path fill-rule="evenodd" d="m9.283 6.47l-7.564 4.254c-.949.534-1.719.266-1.719-.576v-9.292c0-.852.756-1.117 1.719-.576l7.564 4.254c.949.534.963 1.392 0 1.934"/></svg>\n'},PPOU:function(n,e,t){"use strict";e.a={props:{monitoringUrl:{type:String,default:"",required:!0}},computed:{title:function(){return"Monitoring"}},template:'\n    <a\n      class="btn monitoring-url has-tooltip"\n      data-container="body"\n      :href="monitoringUrl"\n      target="_blank"\n      rel="noopener noreferrer nofollow"\n      :title="title"\n      :aria-label="title">\n      <i class="fa fa-area-chart" aria-hidden="true"></i>\n    </a>\n  '}},"Q/iC":function(n,e,t){"use strict";var o=t("WEra"),i=t.n(o);e.a={props:{terminalPath:{type:String,required:!1,default:""}},data:function(){return{terminalIconSvg:i.a}},computed:{title:function(){return"Terminal"}},template:'\n    <a class="btn terminal-button has-tooltip"\n      data-container="body"\n      :title="title"\n      :aria-label="title"\n      :href="terminalPath">\n      '+i.a+"\n    </a>\n  "}},R8Dz:function(n,e,t){"use strict";(function(n){var o=t("LIwm"),i=t.n(o),a=t("SdTk");e.a={props:{actions:{type:Array,required:!1,default:function(){return[]}},service:{type:Object,required:!0}},data:function(){return{playIconSvg:i.a,isLoading:!1}},computed:{title:function(){return"Deploy to..."}},methods:{onClickAction:function(e){var t=this;this.isLoading=!0,n(this.$refs.tooltip).tooltip("destroy"),this.service.postAction(e).then(function(){t.isLoading=!1,a.a.$emit("refreshEnvironments")}).catch(function(){t.isLoading=!1,new Flash("An error occured while making the request.")})},isActionDisabled:function(n){return void 0!==n.playable&&!n.playable}},template:'\n    <div class="btn-group" role="group">\n      <button\n        type="button"\n        class="dropdown btn btn-default dropdown-new js-dropdown-play-icon-container has-tooltip"\n        data-container="body"\n        data-toggle="dropdown"\n        ref="tooltip"\n        :title="title"\n        :aria-label="title"\n        :disabled="isLoading">\n        <span>\n          <span v-html="playIconSvg"></span>\n          <i\n            class="fa fa-caret-down"\n            aria-hidden="true"/>\n          <i\n            v-if="isLoading"\n            class="fa fa-spinner fa-spin"\n            aria-hidden="true"/>\n        </span>\n      </button>\n\n      <ul class="dropdown-menu dropdown-menu-align-right">\n        <li v-for="action in actions">\n          <button\n            type="button"\n            class="js-manual-action-link no-btn btn"\n            @click="onClickAction(action.play_path)"\n            :class="{ \'disabled\': isActionDisabled(action) }"\n            :disabled="isActionDisabled(action)">\n            '+i.a+"\n            <span>\n              {{action.name}}\n            </span>\n          </button>\n        </li>\n      </ul>\n  </div>\n  "}}).call(e,t("lwLq"))},SdTk:function(n,e,t){"use strict";var o=t("JTVE");e.a=new o.default},WEra:function(n,e){n.exports='<svg width="19" height="14" viewBox="0 0 19 14" xmlns="http://www.w3.org/2000/svg"><rect fill="#848484" x="7.2" y="9.25" width="6.46" height="1.5" rx=".5"/><path d="M5.851 7.016L3.81 9.103a.503.503 0 0 0 .017.709l.35.334c.207.198.524.191.717-.006l2.687-2.748a.493.493 0 0 0 .137-.376.493.493 0 0 0-.137-.376L4.894 3.892a.507.507 0 0 0-.717-.006l-.35.334a.503.503 0 0 0-.017.709L5.85 7.016z"/><path d="M1.25 11.497c0 .691.562 1.253 1.253 1.253h13.994c.694 0 1.253-.56 1.253-1.253V2.503c0-.691-.562-1.253-1.253-1.253H2.503c-.694 0-1.253.56-1.253 1.253v8.994zM2.503 0h13.994A2.504 2.504 0 0 1 19 2.503v8.994A2.501 2.501 0 0 1 16.497 14H2.503A2.504 2.504 0 0 1 0 11.497V2.503A2.501 2.501 0 0 1 2.503 0z"/></svg>\n'},"XJ/8":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0});var o=t("vm9i");n(function(){window.gl=window.gl||{},gl.EnvironmentsListApp&&gl.EnvironmentsListApp.$destroy(!0),gl.EnvironmentsListApp=new o.a({el:document.querySelector("#environments-list-view")})})}).call(e,t("lwLq"))},ZmZM:function(n,e){n.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 18" enable-background="new 0 0 36 18"><path d="m34 7h-7.2c-.9-4-4.5-7-8.8-7s-7.9 3-8.8 7h-7.2c-1.1 0-2 .9-2 2 0 1.1.9 2 2 2h7.2c.9 4 4.5 7 8.8 7s7.9-3 8.8-7h7.2c1.1 0 2-.9 2-2 0-1.1-.9-2-2-2m-16 7c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5"/></svg>\n'},jNb8:function(n,e,t){"use strict";var o=t("3qMg");e.a={components:{"environment-item":o.a},props:{environments:{type:Array,required:!0,default:function(){return[]}},canReadEnvironment:{type:Boolean,required:!1,default:!1},canCreateDeployment:{type:Boolean,required:!1,default:!1},service:{type:Object,required:!0},isLoadingFolderContent:{type:Boolean,required:!1,default:!1}},methods:{folderUrl:function(n){return window.location.pathname+"/folders/"+n.folderName}},template:'\n    <table class="table ci-table">\n      <thead>\n        <tr>\n          <th class="environments-name">Environment</th>\n          <th class="environments-deploy">Last deployment</th>\n          <th class="environments-build">Job</th>\n          <th class="environments-commit">Commit</th>\n          <th class="environments-date">Updated</th>\n          <th class="environments-actions"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <template v-for="model in environments"\n          v-bind:model="model">\n          <tr is="environment-item"\n            :model="model"\n            :can-create-deployment="canCreateDeployment"\n            :can-read-environment="canReadEnvironment"\n            :service="service"></tr>\n\n          <template v-if="model.isFolder && model.isOpen && model.children && model.children.length > 0">\n            <tr v-if="isLoadingFolderContent">\n              <td colspan="6" class="text-center">\n                <i class="fa fa-spin fa-spinner fa-2x" aria-hidden="true"/>\n              </td>\n            </tr>\n\n            <template v-else>\n              <tr is="environment-item"\n                v-for="children in model.children"\n                :model="children"\n                :can-create-deployment="canCreateDeployment"\n                :can-read-environment="canReadEnvironment"\n                :service="service"></tr>\n\n              <tr>\n                <td colspan="6" class="text-center">\n                  <a :href="folderUrl(model)" class="btn btn-default">\n                    Show all\n                  </a>\n                </td>\n              </tr>\n            </template>\n          </template>\n        </template>\n      </tbody>\n    </table>\n  '}},kXVd:function(n,e,t){"use strict";(function(n){var o=t("SdTk");e.a={props:{stopUrl:{type:String,default:""},service:{type:Object,required:!0}},data:function(){return{isLoading:!1}},computed:{title:function(){return"Stop"}},methods:{onClick:function(){var e=this;confirm("Are you sure you want to stop this environment?")&&(this.isLoading=!0,n(this.$el).tooltip("destroy"),this.service.postAction(this.retryUrl).then(function(){e.isLoading=!1,o.a.$emit("refreshEnvironments")}).catch(function(){e.isLoading=!1,new Flash("An error occured while making the request.","alert")}))}},template:'\n    <button type="button"\n      class="btn stop-env-link has-tooltip"\n      data-container="body"\n      @click="onClick"\n      :disabled="isLoading"\n      :title="title"\n      :aria-label="title">\n      <i class="fa fa-stop stop-env-icon" aria-hidden="true"></i>\n      <i v-if="isLoading" class="fa fa-spinner fa-spin" aria-hidden="true"></i>\n    </button>\n  '}}).call(e,t("lwLq"))},pGP2:function(n,e,t){"use strict";function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var i=t("JTVE"),a=t("7UJR"),s=t.n(a),l=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();i.default.use(s.a);var r=function(){function n(e){o(this,n),this.environments=i.default.resource(e),this.folderResults=3}return l(n,[{key:"get",value:function(n,e){return this.environments.get({scope:n,page:e})}},{key:"postAction",value:function(n){return i.default.http.post(n,{},{emulateJSON:!0})}},{key:"getFolderContent",value:function(n){return i.default.http.get(n+".json?per_page="+this.folderResults)}}]),n}();e.a=r},vm9i:function(n,e,t){"use strict";var o=t("JTVE"),i=t("pGP2"),a=t("jNb8"),s=t("w+iT"),l=t("03o2"),r=t("RsTm"),d=(t.n(r),t("SdTk"));e.a=o.default.component("environment-component",{components:{"environment-table":a.a,"table-pagination":l.a},data:function(){var n=document.querySelector("#environments-list-view").dataset,e=new s.a;return{store:e,state:e.state,visibility:"available",isLoading:!1,isLoadingFolderContent:!1,cssContainerClass:n.cssClass,endpoint:n.environmentsDataEndpoint,canCreateDeployment:n.canCreateDeployment,canReadEnvironment:n.canReadEnvironment,canCreateEnvironment:n.canCreateEnvironment,projectEnvironmentsPath:n.projectEnvironmentsPath,projectStoppedEnvironmentsPath:n.projectStoppedEnvironmentsPath,newEnvironmentPath:n.newEnvironmentPath,helpPagePath:n.helpPagePath,paginationInformation:{},pageNumber:1}},computed:{scope:function(){return gl.utils.getParameterByName("scope")},canReadEnvironmentParsed:function(){return gl.utils.convertPermissionToBoolean(this.canReadEnvironment)},canCreateDeploymentParsed:function(){return gl.utils.convertPermissionToBoolean(this.canCreateDeployment)},canCreateEnvironmentParsed:function(){return gl.utils.convertPermissionToBoolean(this.canCreateEnvironment)}},created:function(){this.service=new i.a(this.endpoint),this.fetchEnvironments(),d.a.$on("refreshEnvironments",this.fetchEnvironments),d.a.$on("toggleFolder",this.toggleFolder)},beforeDestroyed:function(){d.a.$off("refreshEnvironments"),d.a.$off("toggleFolder")},methods:{toggleFolder:function(n,e){this.store.toggleFolder(n),n.isOpen||this.fetchChildEnvironments(n,e)},changePage:function(n){var e=gl.utils.setParamInURL("page",n);return gl.utils.visitUrl(e),e},fetchEnvironments:function(){var n=this,e=gl.utils.getParameterByName("scope")||this.visibility,t=gl.utils.getParameterByName("page")||this.pageNumber;return this.isLoading=!0,this.service.get(e,t).then(function(n){return{headers:n.headers,body:n.json()}}).then(function(e){n.store.storeAvailableCount(e.body.available_count),n.store.storeStoppedCount(e.body.stopped_count),n.store.storeEnvironments(e.body.environments),n.store.setPagination(e.headers)}).then(function(){n.isLoading=!1}).catch(function(){n.isLoading=!1,new Flash("An error occurred while fetching the environments.")})},fetchChildEnvironments:function(n,e){var t=this;this.isLoadingFolderContent=!0,this.service.getFolderContent(e).then(function(n){return n.json()}).then(function(e){t.store.setfolderContent(n,e.environments),t.isLoadingFolderContent=!1}).catch(function(){t.isLoadingFolderContent=!1,new Flash("An error occurred while fetching the environments.")})}},template:'\n    <div :class="cssContainerClass">\n      <div class="top-area">\n        <ul v-if="!isLoading" class="nav-links">\n          <li v-bind:class="{ \'active\': scope === null || scope === \'available\' }">\n            <a :href="projectEnvironmentsPath">\n              Available\n              <span class="badge js-available-environments-count">\n                {{state.availableCounter}}\n              </span>\n            </a>\n          </li>\n          <li v-bind:class="{ \'active\' : scope === \'stopped\' }">\n            <a :href="projectStoppedEnvironmentsPath">\n              Stopped\n              <span class="badge js-stopped-environments-count">\n                {{state.stoppedCounter}}\n              </span>\n            </a>\n          </li>\n        </ul>\n        <div v-if="canCreateEnvironmentParsed && !isLoading" class="nav-controls">\n          <a :href="newEnvironmentPath" class="btn btn-create">\n            New environment\n          </a>\n        </div>\n      </div>\n\n      <div class="content-list environments-container">\n        <div class="environments-list-loading text-center" v-if="isLoading">\n          <i class="fa fa-spinner fa-spin" aria-hidden="true"></i>\n        </div>\n\n        <div class="blank-state blank-state-no-icon"\n          v-if="!isLoading && state.environments.length === 0">\n          <h2 class="blank-state-title js-blank-state-title">\n            You don\'t have any environments right now.\n          </h2>\n          <p class="blank-state-text">\n            Environments are places where code gets deployed, such as staging or production.\n            <br />\n            <a :href="helpPagePath">\n              Read more about environments\n            </a>\n          </p>\n\n          <a v-if="canCreateEnvironmentParsed"\n            :href="newEnvironmentPath"\n            class="btn btn-create js-new-environment-button">\n            New Environment\n          </a>\n        </div>\n\n        <div class="table-holder"\n          v-if="!isLoading && state.environments.length > 0">\n\n          <environment-table\n            :environments="state.environments"\n            :can-create-deployment="canCreateDeploymentParsed"\n            :can-read-environment="canReadEnvironmentParsed"\n            :service="service"\n            :is-loading-folder-content="isLoadingFolderContent" />\n        </div>\n\n        <table-pagination v-if="state.paginationInformation && state.paginationInformation.totalPages > 1"\n          :change="changePage"\n          :pageInfo="state.paginationInformation">\n        </table-pagination>\n      </div>\n    </div>\n  '})},"w+iT":function(n,e,t){"use strict";function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var i=t("RsTm"),a=(t.n(i),function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}()),s=function(){function n(){return o(this,n),this.state={},this.state.environments=[],this.state.stoppedCounter=0,this.state.availableCounter=0,this.state.paginationInformation={},this}return a(n,[{key:"storeEnvironments",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=n.map(function(n){var e={};return n.size>1&&(e=Object.assign({},n,{isFolder:!0,folderName:n.name,isOpen:!1,children:[]})),n.latest?(e=Object.assign(e,n,n.latest),delete e.latest):e=Object.assign(e,n),e});return this.state.environments=e,e}},{key:"setPagination",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=gl.utils.normalizeHeaders(n),t=gl.utils.parseIntPagination(e);return this.state.paginationInformation=t,t}},{key:"storeAvailableCount",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.availableCounter=n,n}},{key:"storeStoppedCount",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.stoppedCounter=n,n}},{key:"toggleFolder",value:function(n){return this.updateFolder(n,"isOpen",!n.isOpen)}},{key:"setfolderContent",value:function(n,e){var t=e.map(function(n){var e=n;return n.latest?(e=Object.assign({},n,n.latest),delete e.latest):e=n,e.isChildren=!0,e});return this.updateFolder(n,"children",t)}},{key:"updateFolder",value:function(n,e,t){var o=this.state.environments,i=o.map(function(o){var i=Object.assign({},o);return o.isFolder&&o.id===n.id&&(i[e]=t),i});return this.state.environments=i,i}}]),n}();e.a=s}},["XJ/8"]);
//# sourceMappingURL=environments.9cda46dc2a756ce47719.bundle.js.map